generator client {
  provider = "prisma-client-js"
  output   = "siuang"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model user {
  id                 String    @id @default(uuid()) @db.Char(36)
  nama               String    @db.VarChar(30)
  email              String?   @unique(map: "users_email_unique") @db.VarChar(255)
  phone              String?   @unique(map: "users_phone_unique") @db.VarChar(16)
  password           String    @db.VarChar(65)
  isaktif            Boolean   @default(true)
  google_id          String?   @db.VarChar(25)
  lastSeenAt         DateTime? @db.Timestamp(0)
  token              String?   @db.Text
  tokenRefresh       String?   @db.Text
  isPremium          Boolean   @default(false)
  premium_expired_at DateTime? @db.Timestamp(0)
  created_at         DateTime? @db.Timestamp(0)
  updated_at         DateTime? @db.Timestamp(0)
}

model icons {
  id            String         @id @default(uuid()) @db.Char(36)
  img           String         @db.VarChar(60)
  deleted_at    DateTime?      @db.DateTime(0)
  aset_kategori aset_kategori?
}

model aset_kategori {
  id      String  @id @default(uuid()) @db.Char(36)
  nama    String  @db.VarChar(30)
  icon_id String? @unique @db.Char(36)
  icon    icons?  @relation(fields: [icon_id], references: [id])
}

model aset {
  id String @id @default(uuid()) @db.Char(36)
}

model aset_akun {
  id String @id @default(uuid()) @db.Char(36)
}

model aset_user {
  id String @id @default(uuid()) @db.Char(36)
}

model transaksi_jenis {
  id String @id @default(uuid()) @db.Char(36)
}

model transaksi_kategori {
  id String @id @default(uuid()) @db.Char(36)
}

model transasksi_subkategori {
  id String @id @default(uuid()) @db.Char(36)
}

model transasksi {
  id String @id @default(uuid()) @db.Char(36)
}

model hutang {
  id String @id @default(uuid()) @db.Char(36)
}

model piutang {
  id String @id @default(uuid()) @db.Char(36)
}

model admin {
  id             String    @id @unique(map: "id") @db.Char(36)
  google_id      String?   @db.VarChar(30)
  nama           String    @db.VarChar(25)
  email          String    @unique(map: "email") @db.VarChar(40)
  phone          String?   @db.VarChar(40)
  password       String    @db.VarChar(80)
  pass_fail      Int       @default(0)
  pass_fail_at   DateTime? @db.Timestamp(0)
  role           String    @db.VarChar(20)
  isaktif        Boolean
  otp            String?   @db.VarChar(80)
  otp_resend_at  DateTime? @db.Timestamp(0)
  otp_expired_at DateTime? @db.Timestamp(0)
  otp_fail       Int       @default(0)
  otp_fail_at    DateTime? @db.Timestamp(0)
  token          String?   @db.Text
  tokenRefresh   String?   @db.Text
  created_at     DateTime? @db.Timestamp(0)
}
